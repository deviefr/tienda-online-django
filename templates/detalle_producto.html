{% extends 'base.html' %}
{% block title %}{{ producto.nombre }}{% endblock %}

{% block content %}
<div class="row gx-4">
	<div class="col-md-6">
		{% if producto.imagenes.all %}
			<div id="carouselProducto" class="carousel slide" data-bs-ride="carousel">
				<div class="carousel-inner">
					{% for img in producto.imagenes.all %}
					<div class="carousel-item {% if forloop.first %}active{% endif %}">
						<img src="{{ img.imagen.url }}" class="d-block w-100 rounded" alt="{{ producto.nombre }}">
					</div>
					{% endfor %}
				</div>
				<button class="carousel-control-prev" type="button" data-bs-target="#carouselProducto" data-bs-slide="prev">
					<span class="carousel-control-prev-icon" aria-hidden="true"></span>
					<span class="visually-hidden">Anterior</span>
				</button>
				<button class="carousel-control-next" type="button" data-bs-target="#carouselProducto" data-bs-slide="next">
					<span class="carousel-control-next-icon" aria-hidden="true"></span>
					<span class="visually-hidden">Siguiente</span>
				</button>
			</div>
		{% else %}
			<img src="https://via.placeholder.com/600x400?text=Sin+imagen" class="img-fluid rounded" alt="Sin imagen">
		{% endif %}
	</div>

	<div class="col-md-6">
		<h1 class="mb-2">{{ producto.nombre }}</h1>
		<p class="text-muted">Categoría: {{ producto.categoria.nombre }}</p>
		<h3 class="text-primary fw-bold">${{ producto.precio_base }}</h3>

		<p class="mt-3">{{ producto.descripcion|default:"Sin descripción adicional." }}</p>

		<div class="d-flex gap-2 mt-4">
			<a href="{% url 'mainApp:crear_pedido' producto.slug %}" class="btn btn-primary btn-lg">Solicitar este producto</a>
			<a href="{% url 'mainApp:catalogo' %}" class="btn btn-outline-secondary">Volver al catálogo</a>
		</div>

		<hr class="my-4">

		<h5>Detalles</h5>
		<ul class="list-unstyled">
			<li><strong>Publicado:</strong> {{ producto.creado|date:"d M Y" }}</li>
			<li><strong>Destacado:</strong> {% if producto.destacado %}Sí{% else %}No{% endif %}</li>
		</ul>
	</div>
</div>

{% endblock %}

